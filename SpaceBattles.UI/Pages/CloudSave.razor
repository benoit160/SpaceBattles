@page "/CloudSave"
@using System.Net.Http.Json

@inject HttpClient HttpClient
@inject SaveService SaveService

<MudContainer MaxWidth="MaxWidth.Small">
    <MudPaper Class="pa-4 rounded-xl align-self-center">
        <MudStack>
            <MudStack Row Spacing="0">
                <MudDivider DividerType="DividerType.Middle" Class="flex-grow-1 align-self-center"/>
                <MudText Typo="Typo.body1" Color="Color.Info" Style="font-family:TitleFont">Cloud save</MudText>
                <MudDivider DividerType="DividerType.Middle" Class="flex-grow-1 align-self-center" />
            </MudStack>
            <MudStack Row Spacing="0">
                <MudButton Variant="Variant.Filled">Save</MudButton>
                <MudText Typo="Typo.body1" Color="Color.Info" Style="font-family:TitleFont">Cloud save</MudText>
            </MudStack>
        </MudStack>
    </MudPaper>
</MudContainer>

@code {
    private async Task SaveToCloud()
    {
        PostDataRequest request = new PostDataRequest(null, SaveService.GetCompressedSaveFile());
        await HttpClient.PostAsJsonAsync("api/save", request);
    }

    public record PostDataRequest(Guid? SaveId, string SaveData);

}